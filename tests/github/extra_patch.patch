diff --git a/core/modules/page_cache/tests/src/Functional/PageCacheTagsIntegrationTest.php b/core/modules/page_cache/tests/src/Functional/PageCacheTagsIntegrationTest.php
index 7c127fe41b..3a8689cdcf 100644
--- a/core/modules/page_cache/tests/src/Functional/PageCacheTagsIntegrationTest.php
+++ b/core/modules/page_cache/tests/src/Functional/PageCacheTagsIntegrationTest.php
@@ -84,6 +84,7 @@ public function testPageCacheTags() {
     ];
 
     // Full node page 1.
+global $xxx; $xxx=TRUE;
     $this->assertPageCacheContextsAndTags($node_1->toUrl(), $cache_contexts, [
       'http_response',
       'rendered',
diff --git a/core/modules/system/tests/src/Functional/Cache/AssertPageCacheContextsAndTagsTrait.php b/core/modules/system/tests/src/Functional/Cache/AssertPageCacheContextsAndTagsTrait.php
index fefd3a462b..37c4f8fb88 100644
--- a/core/modules/system/tests/src/Functional/Cache/AssertPageCacheContextsAndTagsTrait.php
+++ b/core/modules/system/tests/src/Functional/Cache/AssertPageCacheContextsAndTagsTrait.php
@@ -73,6 +73,7 @@ protected function assertPageCacheContextsAndTags(Url $url, array $expected_cont
     sort($expected_tags);
 
     // Assert cache miss + expected cache contexts + tags.
+global $xxx; if ($xxx) Database::closeConnection();
     $this->drupalGet($absolute_url);
     $this->assertSession()->responseHeaderEquals('X-Drupal-Cache', 'MISS');
     $this->assertCacheTags($expected_tags);
